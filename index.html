<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DED Sales - Full System</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; background: #000; color: #fff; transition: background 0.3s, color 0.3s; }
        .hidden { display: none !important; }

        .header {
            background: #1a1a1a;
            padding: 15px 25px;
            border-bottom: 2px solid #ff0000;
            display: flex; justify-content: space-between; align-items: center;
        }
        .header-logo { color:#ff0000; font-size:22px; font-weight:bold;}
        .header-title { flex: 1; text-align: center; font-size: 26px; color: #ff0000; }
        .search-bar input {
            padding: 8px; background: #222; border: 1px solid #ff0000; color: #fff; border-radius: 4px 0 0 4px;
        }
        .search-bar button {
            padding: 8px 12px; background: #ff0000; border: none; border-radius: 0 4px 4px 0; cursor: pointer; color: #fff;
        }
        .main { display: flex; min-height: 90vh; }
        .sidebar {
            width: 210px; background: #111; border-right: 2px solid #ff0000; padding: 20px 10px;
        }
        .category-item {
            background: #222; padding: 12px; margin-bottom: 10px; border: 1px solid #ff0000;
            cursor: pointer; text-align: center; border-radius: 4px; transition: background 0.2s;
        }
        .category-item.active { background: #ff0000; }
        .content { flex: 1; padding: 30px; }

        .category-section { }
        .subcategory-title {
            margin: 20px 0 10px 0; font-size: 19px; font-weight: bold; color: #ff0000;
            border-left: 4px solid #ff0000; padding-left: 10px; background: #1a1a1a;
        }
        .product-grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 20px;
        }
        .product-card {
            background: #222; border: 1px solid #ff0000; border-radius: 8px; padding: 10px; text-align: center;
        }
        .product-card img { width: 100%; border-radius: 6px; height: 150px; object-fit: cover; background: #111; }
        .cart-btn, .buy-btn {
            margin-top: 8px; padding: 8px 0; border-radius: 5px; border: none; width: 90%; font-size: 14px; font-weight: 600; cursor: pointer;
        }
        .cart-btn { background: #ffd814; color: #111; }
        .buy-btn  { background: #ff9900; color: #fff; margin-top: 5px;}
        .cart-btn:hover, .buy-btn:hover { opacity: 0.9; }

        #login-page { display: flex; justify-content: center; align-items: center; height: 100vh; }
        .login-box {
            background: #1a1a1a; padding: 35px; border: 1px solid #ff0000; border-radius: 8px; width: 300px; text-align: center;
        }
        .login-box input {
            width: 100%; padding: 10px; background: #222; border: 1px solid #ff0000; color: white; margin-bottom: 15px; border-radius: 4px;
        }
        .login-box button { width: 100%; padding: 10px; background: #ff0000; border: none; border-radius: 4px; cursor: pointer; }

        .modal {
            position: fixed; inset: 0; background: rgba(0,0,0,0.85);
            display: none; justify-content: center; align-items: center;
        }
        .modal-content {
            background: #111; padding: 25px; width: 350px; border: 1px solid #ff0000; border-radius: 10px;
        }
        .modal-content input {
            width: 100%; padding: 10px; margin: 8px 0; background: #222; border: 1px solid #ff0000; color: #fff;
        }
        .close { float: right; font-size: 22px; cursor: pointer; color: #ff0000; }

        /* THEME BUTTON */
        .theme-toggle-btn {
            position: fixed; right: 30px; bottom: 30px; background: #222;
            color: #ff0000; border: 2px solid #ff0000; border-radius: 25px; padding: 10px 20px;
            font-weight: bold; cursor: pointer; z-index: 1000; transition: background 0.2s, color 0.2s;
        }
        /* Light theme overrides */
        body.light-theme { background: #f3f3f3; color: #111; }
        body.light-theme .header       { background: #fff; border-bottom: 2px solid #ff0000; color: #ff0000; }
        body.light-theme .header-title { color: #ff0000; }
        body.light-theme .sidebar      { background: #f1f1f1; color: #111; border-right: 2px solid #ff0000;}
        body.light-theme .category-item { background: #eee; color: #111; border: 1px solid #ff0000;}
        body.light-theme .category-item.active { background: #ff0000; color: #fff; }
        body.light-theme .subcategory-title{ background: #fafafa;}
        body.light-theme .product-card { background: #fff; color: #111; border: 1px solid #ff0000;}
        body.light-theme .add-btn      { background: #ff0000; color: #fff;}
        body.light-theme .cart-btn     { background: #ffd814; color: #111;}
        body.light-theme .buy-btn      { background: #ff9900; color: #fff;}
        body.light-theme #login-page   { background: #f3f3f3;}
        body.light-theme .login-box    { background: #fff; color: #111; border: 1px solid #ff0000;}
        body.light-theme .login-box input { background: #f3f3f3; color: #111;}
        body.light-theme .modal-content { background: #fff; color: #111; border: 1px solid #ff0000;}
        body.light-theme .modal-content input { background: #f3f3f3; color: #111;}
        body.light-theme .theme-toggle-btn { background: #fff; color: #ff0000; border: 2px solid #ff0000;}
        body.light-theme .cart-list { background: #fafafa;}
        body.light-theme .cart-product-row img { background: #eee;}
        /* Cart page styles */
        #cart-page { display: none; flex-direction: column; align-items: center; min-height: 100vh; background: inherit;}
        .cart-header { margin-top:30px; font-size: 30px; font-weight: bold; color: #ff0000; }
        .cart-list { width: 90%; max-width: 550px; margin: 30px auto 0 auto; border: 1px solid #ff0000; border-radius: 10px; background: #222; padding:24px;}
        .cart-product-row { display: flex; align-items: center; gap:20px; margin-bottom: 20px;}
        .cart-product-row img { width: 100px; height: 80px; object-fit: cover; border-radius: 6px;}
        .cart-prod-title { font-size: 20px; font-weight: bold; }
        .cart-prod-price { font-size: 18px; color: #ffd814; margin-left: 8px;}
        .cart-action-btns { display: flex; gap:15px;}
        .remove-btn { background: #fff; color: #ff0000; border-radius: 4px; border: 1px solid #ff0000; padding:8px 20px; font-weight: bold; cursor:pointer;}
        .buy-btn { background: #ff9900; color: #fff; border-radius: 4px; border:none; padding:8px 20px; font-weight:bold; cursor:pointer;}
        .qty-btns { display: flex; align-items: center; margin-top:6px;}
        .qty-btn { background: #ff0000; border:none; color:#fff; width:30px; height:30px; border-radius:50%; cursor:pointer;}
        .cart-empty-msg { margin: 40px 0; font-size: 22px; color: #ff0000; }
        #site.cart-hidden { display: none !important; }
        #cart-page.cart-shown { display: flex !important; }
        .return-btn { background: #ff0000; color: #fff; border: none; border-radius: 4px; padding: 10px 24px; margin: 20px auto; font-size: 16px; cursor: pointer;}
    </style>
</head>
<body>
    <!-- LOGIN PAGE visible by default -->
    <div id="login-page">
        <div class="login-box">
            <h2 style="color:#ff0000; margin-bottom:20px;">DED Sales Login</h2>
            <input id="login-user" type="text" placeholder="Username" autocomplete="username" />
            <input id="login-pass" type="password" placeholder="Password" autocomplete="current-password" />
            <button onclick="login()">Login</button>
            <p style="margin-top:15px;">No account? <span style="color:#ff0000; cursor:pointer;" onclick="openSignup()">Sign Up</span></p>
        </div>
    </div>

    <!-- FULL SITE PAGE (hidden by default) -->
    <div id="site" class="hidden">
        <div class="header">
            <div class="header-logo">DED Sales</div>
            <div class="header-title">Welcome To DED Sales</div>
            <div class="search-bar">
                <input type="text" placeholder="Search products..." />
                <button>Search</button>
            </div>
        </div>
        <div class="main">
            <div class="sidebar">
                <div class="category-item active" onclick="switchCategory('furniture', event)">Furniture</div>
                <div class="category-item" onclick="switchCategory('electronics', event)">Electronics</div>
                <div class="category-item" onclick="switchCategory('supplies', event)">School Supplies</div>
                <div class="category-item" onclick="switchCategory('apparels', event)">Apparels</div>
                <button class="add-btn" onclick="logout()">Logout</button>
            </div>
            <div class="content">
                <!-- FURNITURE -->
                <div id="furniture" class="category-section">
                    <div class="subcategory-title">Main Products</div>
                    <div class="product-grid">
                        <div class="product-card"><img src="images/chair.jpg" alt="Chair"/><h3>Chair</h3><button class="cart-btn" onclick="addToCart('Chair','images/chair.jpg',4999)">Add to Cart</button><button class="buy-btn" onclick="addToCart('Chair','images/chair.jpg',4999)">Buy Now</button></div>
                        <div class="product-card"><img src="images/table.jpg" alt="Table"/><h3>Table</h3><button class="cart-btn" onclick="addToCart('Table','images/table.jpg',2999)">Add to Cart</button><button class="buy-btn" onclick="addToCart('Table','images/table.jpg',2999)">Buy Now</button></div>
                        <div class="product-card"><img src="images/sofa.jpg" alt="Sofa"/><h3>Sofa</h3><button class="cart-btn" onclick="addToCart('Sofa','images/sofa.jpg',9999)">Add to Cart</button><button class="buy-btn" onclick="addToCart('Sofa','images/sofa.jpg',9999)">Buy Now</button></div>
                        <div class="product-card"><img src="images/bed.jpg" alt="Bed"/><h3>Bed</h3><button class="cart-btn" onclick="addToCart('Bed','images/bed.jpg',8999)">Add to Cart</button><button class="buy-btn" onclick="addToCart('Bed','images/bed.jpg',8999)">Buy Now</button></div>
                    </div>
                </div>
                <!-- ELECTRONICS -->
                <div id="electronics" class="category-section hidden">
                    <div class="subcategory-title">Laptops</div>
                    <div class="product-grid">
                        <div class="product-card"><img src="images/laptops_hp_omen.jpg" alt="HP Omen"/><h3>HP Omen</h3><button class="cart-btn" onclick="addToCart('HP Omen','images/laptops_hp_omen.jpg',135990)">Add to Cart</button><button class="buy-btn" onclick="addToCart('HP Omen','images/laptops_hp_omen.jpg',135990)">Buy Now</button></div>
                        <div class="product-card"><img src="images/laptops_lenovo_ideapad.jpg" alt="Lenovo Ideapad"/><h3>Lenovo Ideapad</h3><button class="cart-btn" onclick="addToCart('Lenovo Ideapad','images/laptops_lenovo_ideapad.jpg',49990)">Add to Cart</button><button class="buy-btn" onclick="addToCart('Lenovo Ideapad','images/laptops_lenovo_ideapad.jpg',49990)">Buy Now</button></div>
                        <div class="product-card"><img src="images/laptops_macbook_air.jpg" alt="Macbook Air"/><h3>Macbook Air</h3><button class="cart-btn" onclick="addToCart('Macbook Air','images/laptops_macbook_air.jpg',110900)">Add to Cart</button><button class="buy-btn" onclick="addToCart('Macbook Air','images/laptops_macbook_air.jpg',110900)">Buy Now</button></div>
                        <div class="product-card"><img src="images/laptops_dell_inspiron.jpg" alt="Dell Inspiron"/><h3>Dell Inspiron</h3><button class="cart-btn" onclick="addToCart('Dell Inspiron','images/laptops_dell_inspiron.jpg',66990)">Add to Cart</button><button class="buy-btn" onclick="addToCart('Dell Inspiron','images/laptops_dell_inspiron.jpg',66990)">Buy Now</button></div>
                    </div>
                    <div class="subcategory-title">Headsets</div>
                    <div class="product-grid">
                        <div class="product-card"><img src="images/headsets_boat_rockerz.jpg" alt="boAt Rockerz"/><h3>boAt Rockerz</h3><button class="cart-btn" onclick="addToCart('boAt Rockerz','images/headsets_boat_rockerz.jpg',1999)">Add to Cart</button><button class="buy-btn" onclick="addToCart('boAt Rockerz','images/headsets_boat_rockerz.jpg',1999)">Buy Now</button></div>
                        <div class="product-card"><img src="images/headsets_sony_wh1000xm4.jpg" alt="Sony WH1000XM4"/><h3>Sony WH1000XM4</h3><button class="cart-btn" onclick="addToCart('Sony WH1000XM4','images/headsets_sony_wh1000xm4.jpg',19999)">Add to Cart</button><button class="buy-btn" onclick="addToCart('Sony WH1000XM4','images/headsets_sony_wh1000xm4.jpg',19999)">Buy Now</button></div>
                        <div class="product-card"><img src="images/headsets_logitech_g733.jpg" alt="Logitech G733"/><h3>Logitech G733</h3><button class="cart-btn" onclick="addToCart('Logitech G733','images/headsets_logitech_g733.jpg',7999)">Add to Cart</button><button class="buy-btn" onclick="addToCart('Logitech G733','images/headsets_logitech_g733.jpg',7999)">Buy Now</button></div>
                        <div class="product-card"><img src="images/headsets_jbl_tune.jpg" alt="JBL Tune"/><h3>JBL Tune</h3><button class="cart-btn" onclick="addToCart('JBL Tune','images/headsets_jbl_tune.jpg',3499)">Add to Cart</button><button class="buy-btn" onclick="addToCart('JBL Tune','images/headsets_jbl_tune.jpg',3499)">Buy Now</button></div>
                    </div>
                </div>
                <!-- SCHOOL SUPPLIES -->
                <div id="supplies" class="category-section hidden">
                    <div class="subcategory-title">Bags</div>
                    <div class="product-grid">
                        <div class="product-card"><img src="images/bag_skybags_classic.jpg" alt="Skybags Classic"/><h3>Skybags Classic</h3><button class="cart-btn" onclick="addToCart('Skybags Classic','images/bag_skybags_classic.jpg',1590)">Add to Cart</button><button class="buy-btn" onclick="addToCart('Skybags Classic','images/bag_skybags_classic.jpg',1590)">Buy Now</button></div>
                        <div class="product-card"><img src="images/bag_american_tourister.jpg" alt="American Tourister"/><h3>American Tourister</h3><button class="cart-btn" onclick="addToCart('American Tourister','images/bag_american_tourister.jpg',2199)">Add to Cart</button><button class="buy-btn" onclick="addToCart('American Tourister','images/bag_american_tourister.jpg',2199)">Buy Now</button></div>
                        <div class="product-card"><img src="images/bag_wildcraft_hiker.jpg" alt="Wildcraft Hiker"/><h3>Wildcraft Hiker</h3><button class="cart-btn" onclick="addToCart('Wildcraft Hiker','images/bag_wildcraft_hiker.jpg',2599)">Add to Cart</button><button class="buy-btn" onclick="addToCart('Wildcraft Hiker','images/bag_wildcraft_hiker.jpg',2599)">Buy Now</button></div>
                        <div class="product-card"><img src="images/bag_campus_stars.jpg" alt="Campus Stars"/><h3>Campus Stars</h3><button class="cart-btn" onclick="addToCart('Campus Stars','images/bag_campus_stars.jpg',1249)">Add to Cart</button><button class="buy-btn" onclick="addToCart('Campus Stars','images/bag_campus_stars.jpg',1249)">Buy Now</button></div>
                    </div>
                    <div class="subcategory-title">Assignment Sheets</div>
                    <div class="product-grid">
                        <div class="product-card"><img src="images/assignment_a4_sheets.jpg" alt="A4 Sheets"/><h3>A4 Sheets</h3><button class="cart-btn" onclick="addToCart('A4 Sheets','images/assignment_a4_sheets.jpg',149)">Add to Cart</button><button class="buy-btn" onclick="addToCart('A4 Sheets','images/assignment_a4_sheets.jpg',149)">Buy Now</button></div>
                        <div class="product-card"><img src="images/assignment_college_rule.jpg" alt="College Rule"/><h3>College Rule</h3><button class="cart-btn" onclick="addToCart('College Rule','images/assignment_college_rule.jpg',89)">Add to Cart</button><button class="buy-btn" onclick="addToCart('College Rule','images/assignment_college_rule.jpg',89)">Buy Now</button></div>
                        <div class="product-card"><img src="images/assignment_graph_sheets.jpg" alt="Graph Sheets"/><h3>Graph Sheets</h3><button class="cart-btn" onclick="addToCart('Graph Sheets','images/assignment_graph_sheets.jpg',109)">Add to Cart</button><button class="buy-btn" onclick="addToCart('Graph Sheets','images/assignment_graph_sheets.jpg',109)">Buy Now</button></div>
                        <div class="product-card"><img src="images/assignment_practical_record.jpg" alt="Practical Record"/><h3>Practical Record</h3><button class="cart-btn" onclick="addToCart('Practical Record','images/assignment_practical_record.jpg',69)">Add to Cart</button><button class="buy-btn" onclick="addToCart('Practical Record','images/assignment_practical_record.jpg',69)">Buy Now</button></div>
                    </div>
                </div>
                <!-- APPARELS -->
                <div id="apparels" class="category-section hidden">
                    <div class="subcategory-title">Hoodies</div>
                    <div class="product-grid">
                        <div class="product-card"><img src="images/hoodies_nike_black.jpg" alt="Nike Black"/><h3>Nike Black</h3><button class="cart-btn" onclick="addToCart('Nike Black','images/hoodies_nike_black.jpg',1399)">Add to Cart</button><button class="buy-btn" onclick="addToCart('Nike Black','images/hoodies_nike_black.jpg',1399)">Buy Now</button></div>
                        <div class="product-card"><img src="images/hoodies_adidas_blue.jpg" alt="Adidas Blue"/><h3>Adidas Blue</h3><button class="cart-btn" onclick="addToCart('Adidas Blue','images/hoodies_adidas_blue.jpg',1299)">Add to Cart</button><button class="buy-btn" onclick="addToCart('Adidas Blue','images/hoodies_adidas_blue.jpg',1299)">Buy Now</button></div>
                        <div class="product-card"><img src="images/hoodies_puma_red.jpg" alt="Puma Red"/><h3>Puma Red</h3><button class="cart-btn" onclick="addToCart('Puma Red','images/hoodies_puma_red.jpg',999)">Add to Cart</button><button class="buy-btn" onclick="addToCart('Puma Red','images/hoodies_puma_red.jpg',999)">Buy Now</button></div>
                        <div class="product-card"><img src="images/hoodies_zara_grey.jpg" alt="Zara Grey"/><h3>Zara Grey</h3><button class="cart-btn" onclick="addToCart('Zara Grey','images/hoodies_zara_grey.jpg',1099)">Add to Cart</button><button class="buy-btn" onclick="addToCart('Zara Grey','images/hoodies_zara_grey.jpg',1099)">Buy Now</button></div>
                    </div>
                    <div class="subcategory-title">Pants</div>
                    <div class="product-grid">
                        <div class="product-card"><img src="images/pants_jeans_levis.jpg" alt="Jeans Levis"/><h3>Jeans Levis</h3><button class="cart-btn" onclick="addToCart('Jeans Levis','images/pants_jeans_levis.jpg',1599)">Add to Cart</button><button class="buy-btn" onclick="addToCart('Jeans Levis','images/pants_jeans_levis.jpg',1599)">Buy Now</button></div>
                        <div class="product-card"><img src="images/pants_cargos_green.jpg" alt="Cargos Green"/><h3>Cargos Green</h3><button class="cart-btn" onclick="addToCart('Cargos Green','images/pants_cargos_green.jpg',1199)">Add to Cart</button><button class="buy-btn" onclick="addToCart('Cargos Green','images/pants_cargos_green.jpg',1199)">Buy Now</button></div>
                        <div class="product-card"><img src="images/pants_formal_black.jpg" alt="Formal Black"/><h3>Formal Black</h3><button class="cart-btn" onclick="addToCart('Formal Black','images/pants_formal_black.jpg',1099)">Add to Cart</button><button class="buy-btn" onclick="addToCart('Formal Black','images/pants_formal_black.jpg',1099)">Buy Now</button></div>
                        <div class="product-card"><img src="images/pants_joggers_nike.jpg" alt="Joggers Nike"/><h3>Joggers Nike</h3><button class="cart-btn" onclick="addToCart('Joggers Nike','images/pants_joggers_nike.jpg',899)">Add to Cart</button><button class="buy-btn" onclick="addToCart('Joggers Nike','images/pants_joggers_nike.jpg',899)">Buy Now</button></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ADD TO CART PAGE -->
    <div id="cart-page">
        <div class="cart-header">Your Shopping Cart</div>
        <div class="cart-list" id="cart-list"></div>
        <button class="return-btn" onclick="returnToSite()">Continue Shopping</button>
    </div>

    <!-- SIGNUP MODAL -->
    <div id="signup-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeSignup()">Ã—</span>
            <h2 style="color:#ff0000;">Sign Up</h2>
            <input id="su-name" type="text" placeholder="Full Name" autocomplete="name" />
            <input id="su-user" type="text" placeholder="Username" autocomplete="username" />
            <input id="su-pass" type="password" placeholder="Password" autocomplete="new-password" />
            <button class="add-btn" onclick="signup()">Create Account</button>
        </div>
    </div>

    <button class="theme-toggle-btn" onclick="toggleTheme()">ðŸŒ— Toggle Theme</button>

<script>
    // LOGIN SYSTEM
    function login() {
        let u = document.getElementById("login-user").value.trim();
        let p = document.getElementById("login-pass").value;
        let saved = JSON.parse(localStorage.getItem("DED_USERS") || "{}");
        if (saved[u] && saved[u].pass === p) {
            document.getElementById("login-page").classList.add("hidden");
            document.getElementById("site").classList.remove("hidden");
        } else {
            alert("Invalid username or password!");
        }
    }
    function openSignup() { document.getElementById("signup-modal").style.display = "flex"; }
    function closeSignup() { document.getElementById("signup-modal").style.display = "none"; }
    function signup() {
        let name = document.getElementById("su-name").value.trim();
        let user = document.getElementById("su-user").value.trim();
        let pass = document.getElementById("su-pass").value;
        if (!name || !user || !pass) return alert("Fill all fields!");
        let db = JSON.parse(localStorage.getItem("DED_USERS") || "{}");
        if (db[user]) return alert("Username already exists!");
        db[user] = { name, pass };
        localStorage.setItem("DED_USERS", JSON.stringify(db));
        alert("Signup successful! Login now.");
        closeSignup();
    }
    function logout() {
        document.getElementById("site").classList.add("hidden");
        document.getElementById("login-page").classList.remove("hidden");
    }
    function switchCategory(cat, e) {
        document.querySelectorAll('.category-item').forEach(x => x.classList.remove('active'));
        e.target.classList.add('active');
        document.querySelectorAll('.category-section').forEach(x => x.classList.add('hidden'));
        document.getElementById(cat).classList.remove('hidden');
    }

    // THEME TOGGLE
    function toggleTheme() {
        document.body.classList.toggle('light-theme');
        localStorage.setItem('DED_THEME', document.body.classList.contains('light-theme') ? 'light' : 'dark');
    }
    (function() {
        const theme = localStorage.getItem('DED_THEME');
        if (theme === 'light') { document.body.classList.add('light-theme'); }
    })();

    // CART SYSTEM
    function addToCart(title, img, price) {
      const cartItem = {title:title, img:img, price:price, qty:1};
      localStorage.setItem('DED_CART_ITEM', JSON.stringify(cartItem));
      document.getElementById('site').classList.add('cart-hidden');
      showCartPage();
    }
    function showCartPage() {
      document.getElementById('cart-page').classList.add('cart-shown');
      renderCart();
    }
    function renderCart() {
      let cart = localStorage.getItem('DED_CART_ITEM');
      let el  = document.getElementById('cart-list');
      el.innerHTML = "";
      if (!cart) {
        el.innerHTML = "<div class='cart-empty-msg'>Your cart is empty.</div>";
        return;
      }
      let prod = JSON.parse(cart);
      el.innerHTML = `
        <div class="cart-product-row">
          <img src="${prod.img}" alt="${prod.title}" />
          <div>
            <div class="cart-prod-title">${prod.title}</div>
            <div class="cart-prod-price">â‚¹${prod.price}</div>
            <div class="qty-btns">
              <button class="qty-btn" onclick="updateCartQty(-1)">-</button>
              <span style="margin:0 10px;">${prod.qty}</span>
              <button class="qty-btn" onclick="updateCartQty(1)">+</button>
            </div>
            <div class="cart-action-btns" style="margin-top:8px;">
              <button class="remove-btn" onclick="removeFromCart()">Remove</button>
              <button class="buy-btn" onclick="buyNowCart('${prod.title}')">Buy Now</button>
            </div>
          </div>
        </div>
      `;
    }
    function updateCartQty(change) {
      let cart = localStorage.getItem('DED_CART_ITEM');
      if (!cart) return;
      let prod = JSON.parse(cart);
      prod.qty = Math.max(1, prod.qty + change);
      localStorage.setItem('DED_CART_ITEM', JSON.stringify(prod));
      renderCart();
    }
    function removeFromCart() {
      localStorage.removeItem('DED_CART_ITEM');
      renderCart();
    }
    function buyNowCart(title) {
      alert("Purchased: " + title + "!\n(Demo action only)");
      removeFromCart();
      returnToSite();
    }
    function returnToSite() {
      document.getElementById('site').classList.remove('cart-hidden');
      document.getElementById('cart-page').classList.remove('cart-shown');
    }
    if (window.location.hash === '#cart') showCartPage();
</script>
</body>
</html>